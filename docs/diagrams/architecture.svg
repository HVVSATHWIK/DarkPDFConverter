<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500" font-family="'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
  <defs>
    <linearGradient id="grad-box" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1e293b"/>
      <stop offset="100%" stop-color="#0f172a"/>
    </linearGradient>
    <linearGradient id="grad-core" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#1d4ed8"/>
    </linearGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feComposite in="SourceGraphic" in2="blur" operator="over"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10" fill="none" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </marker>
    <marker id="arrow-active" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10" fill="none" stroke="#60a5fa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </marker>
  </defs>

  <rect width="900" height="500" fill="#020617"/>

  <!-- Header -->
  <text x="50" y="50" fill="#f8fafc" font-size="24" font-weight="700">Litas Engine Architecture</text>
  <text x="50" y="80" fill="#94a3b8" font-size="14">High-Performance Local PDF Processing Pipeline</text>

  <!-- Main Thread Zone -->
  <g transform="translate(50, 120)">
    <rect width="240" height="320" rx="8" fill="none" stroke="#334155" stroke-dasharray="4 4"/>
    <text x="20" y="-15" fill="#94a3b8" font-size="12" font-weight="600" letter-spacing="1">MAIN THREAD</text>
    
    <!-- Orchestrator -->
    <rect x="20" y="20" width="200" height="280" rx="6" fill="url(#grad-box)" stroke="#475569"/>
    <text x="40" y="50" fill="#e2e8f0" font-size="16" font-weight="600">App Orchestrator</text>
    
    <g transform="translate(40, 80)">
      <rect width="160" height="40" rx="4" fill="#1e293b" stroke="#334155"/>
      <text x="80" y="25" fill="#cbd5e1" font-size="12" text-anchor="middle">State Manager</text>
    </g>
    
    <g transform="translate(40, 140)">
      <rect width="160" height="40" rx="4" fill="#1e293b" stroke="#334155"/>
      <text x="80" y="25" fill="#cbd5e1" font-size="12" text-anchor="middle">File Buffer Stream</text>
    </g>

    <g transform="translate(40, 200)">
      <rect width="160" height="40" rx="4" fill="#1e293b" stroke="#334155"/>
      <text x="80" y="25" fill="#cbd5e1" font-size="12" text-anchor="middle">Worker Bridge</text>
    </g>
  </g>

  <!-- Worker Zone -->
  <g transform="translate(450, 120)">
    <rect width="400" height="320" rx="8" fill="none" stroke="#334155" stroke-dasharray="4 4"/>
    <text x="20" y="-15" fill="#94a3b8" font-size="12" font-weight="600" letter-spacing="1">WORKER THREAD</text>

    <!-- Worker Host -->
    <rect x="20" y="20" width="360" height="280" rx="6" fill="url(#grad-box)" stroke="#475569"/>
    
    <!-- WASM Container -->
    <g transform="translate(30, 30)">
      <rect width="300" height="220" rx="6" fill="#0f172a" stroke="#1e293b" stroke-width="2"/>
      <text x="20" y="30" fill="#60a5fa" font-size="14" font-weight="700">WebAssembly Runtime</text>

      <!-- Rust Core -->
      <g transform="translate(20, 50)">
        <rect width="260" height="150" rx="4" fill="url(#grad-core)" stroke="#2563eb" filter="url(#glow)"/>
        <text x="130" y="30" fill="#ffffff" font-size="16" font-weight="800" text-anchor="middle">RUST CORE</text>
        
        <!-- Modules -->
        <g transform="translate(20, 50)">
          <rect width="100" height="30" rx="2" fill="rgba(255,255,255,0.1)"/>
          <text x="50" y="20" fill="#fff" font-size="11" text-anchor="middle">PDF Parser</text>
        </g>
        <g transform="translate(140, 50)">
          <rect width="100" height="30" rx="2" fill="rgba(255,255,255,0.1)"/>
          <text x="50" y="20" fill="#fff" font-size="11" text-anchor="middle">Geometry</text>
        </g>
        <g transform="translate(20, 90)">
          <rect width="100" height="30" rx="2" fill="rgba(255,255,255,0.1)"/>
          <text x="50" y="20" fill="#fff" font-size="11" text-anchor="middle">Writer</text>
        </g>
        <g transform="translate(140, 90)">
          <rect width="100" height="30" rx="2" fill="rgba(255,255,255,0.1)"/>
          <text x="50" y="20" fill="#fff" font-size="11" text-anchor="middle">Memory Alloc</text>
        </g>
      </g>
    </g>
  </g>

  <!-- Data Flow Arrows -->
  <g transform="translate(290, 240)">
    <!-- Forward -->
    <path d="M0,-20 L160,-20" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow-active)"/>
    <text x="80" y="-30" fill="#60a5fa" font-size="11" font-weight="600" text-anchor="middle">CMD + SharedBuffer</text>
    
    <!-- Backward -->
    <path d="M160,20 L0,20" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="80" y="40" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">Result / Error</text>
  </g>

</svg>
